(()=>{var e={};e.id=398,e.ids=[398],e.modules={3244:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3244,e.exports=t},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},3523:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(2809),r(1506),r(5866);var i=r(3191),s=r(8716),n=r(7922),a=r.n(n),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["admin",{children:["line-items",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2809)),"/Users/macdaddy/Go Blinds Smart System/app/admin/line-items/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/macdaddy/Go Blinds Smart System/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/macdaddy/Go Blinds Smart System/app/admin/line-items/page.tsx"],u="/admin/line-items/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/line-items/page",pathname:"/admin/line-items",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4355:(e,t,r)=>{Promise.resolve().then(r.bind(r,921))},9017:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},1826:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9404,23))},921:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var i=r(326),s=r(2494),n=r(7577);let a=(0,s.createClient)("https://xrqbldnqjmyjnurlwvlt.supabase.co","sb_publishable_QEAQo0wNojYKriWfnyvfbQ_r8Cc1s37");function l(){let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)(!0),[l,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(null),[u,m]=(0,n.useState)({code:"",description:"",price:"",duration_minutes:""}),[p,x]=(0,n.useState)(null),[h,g]=(0,n.useState)({});async function v(){s(!0),o(null);let{data:e,error:r}=await a.from("line_item_catalog").select("*").order("code",{ascending:!0});r&&o(r.message),t(e||[]),s(!1)}async function y(e){e.preventDefault(),o(null),c(null);let{code:t,description:r,price:i,duration_minutes:s}=u;if(!t||!r||!i||!s){o("All fields are required.");return}let{error:n}=await a.from("line_item_catalog").insert([{code:t,description:r,price:Number(i),duration_minutes:Number(s),active:!0}]);n?o(n.message):(c("Line item created."),m({code:"",description:"",price:"",duration_minutes:""}),v())}async function j(e){o(null),c(null);let{description:t,price:r,duration_minutes:i}=h;if(!t||!r||!i){o("All fields are required.");return}let{error:s}=await a.from("line_item_catalog").update({description:t,price:Number(r),duration_minutes:Number(i),updated_at:new Date().toISOString()}).eq("code",e);s?o(s.message):(c("Line item updated."),x(null),g({}),v())}async function b(e,t){o(null),c(null);let{error:r}=await a.from("line_item_catalog").update({active:!t,updated_at:new Date().toISOString()}).eq("code",e);r?o(r.message):(c("Status updated."),v())}return(0,i.jsxs)("div",{children:[i.jsx("h1",{children:"Line Item Catalog"}),(0,i.jsxs)("form",{onSubmit:y,style:{marginBottom:24},children:[i.jsx("input",{placeholder:"Code",value:u.code,onChange:e=>m({...u,code:e.target.value}),style:{marginRight:8}}),i.jsx("input",{placeholder:"Description",value:u.description,onChange:e=>m({...u,description:e.target.value}),style:{marginRight:8}}),i.jsx("input",{placeholder:"Price",type:"number",value:u.price,onChange:e=>m({...u,price:e.target.value}),style:{marginRight:8,width:80}}),i.jsx("input",{placeholder:"Duration (min)",type:"number",value:u.duration_minutes,onChange:e=>m({...u,duration_minutes:e.target.value}),style:{marginRight:8,width:120}}),i.jsx("button",{type:"submit",children:"Add Line Item"})]}),l&&i.jsx("div",{style:{color:"red",marginBottom:8},children:l}),d&&i.jsx("div",{style:{color:"green",marginBottom:8},children:d}),r?i.jsx("div",{children:"Loading..."}):e.length?(0,i.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[i.jsx("thead",{children:(0,i.jsxs)("tr",{children:[i.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left"},children:"Code"}),i.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left"},children:"Description"}),i.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left"},children:"Price ($)"}),i.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left"},children:"Duration (min)"}),i.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left"},children:"Active"}),i.jsx("th",{style:{borderBottom:"1px solid #ccc"}})]})}),i.jsx("tbody",{children:e.map(e=>(0,i.jsxs)("tr",{children:[i.jsx("td",{children:e.code}),i.jsx("td",{children:p===e.code?i.jsx("input",{value:h.description,onChange:e=>g({...h,description:e.target.value})}):e.description}),i.jsx("td",{children:p===e.code?i.jsx("input",{type:"number",value:h.price,onChange:e=>g({...h,price:e.target.value}),style:{width:80}}):e.price}),i.jsx("td",{children:p===e.code?i.jsx("input",{type:"number",value:h.duration_minutes,onChange:e=>g({...h,duration_minutes:e.target.value}),style:{width:120}}):e.duration_minutes}),i.jsx("td",{children:e.active?"Yes":"No"}),i.jsx("td",{children:p===e.code?(0,i.jsxs)(i.Fragment,{children:[i.jsx("button",{onClick:()=>j(e.code),children:"Save"})," ",i.jsx("button",{onClick:()=>{x(null),g({})},children:"Cancel"})]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx("button",{onClick:()=>{x(e.code),g(e)},children:"Edit"})," ",i.jsx("button",{onClick:()=>b(e.code,e.active),children:e.active?"Deactivate":"Activate"})]})})]},e.code))})]}):i.jsx("div",{children:"No line items found."})]})}},2809:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(8570).createProxy)(String.raw`/Users/macdaddy/Go Blinds Smart System/app/admin/line-items/page.tsx#default`)},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>l});var i=r(9510),s=r(5384),n=r.n(s);r(1159);var a=r(7371);r(7272);let l={title:"Go Blinds Smart System",description:"Automated workflow for Go Blinds"};function o({children:e}){return i.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:(0,i.jsxs)("body",{suppressHydrationWarning:!0,className:n().className,children:[i.jsx("nav",{className:"p-4 border-b border-gray-200 mb-8 bg-gray-50",children:(0,i.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[i.jsx("div",{className:"font-bold text-lg",children:i.jsx(a.default,{href:"/",children:"Go Blinds Smart System"})}),(0,i.jsxs)("div",{children:[i.jsx(a.default,{href:"/admin/alerts",className:"text-gray-600 hover:text-gray-900 mr-4",children:"Alerts"}),i.jsx(a.default,{href:"/admin/orders",className:"text-gray-600 hover:text-gray-900 mr-4",children:"Orders"}),i.jsx(a.default,{href:"/admin/settings/calendar",className:"text-gray-600 hover:text-gray-900",children:"Settings"})]})]})}),i.jsx("main",{className:"container mx-auto px-4",children:e})]})})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[589,494],()=>r(3523));module.exports=i})();