(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{4046:function(e,s,r){Promise.resolve().then(r.bind(r,237))},237:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return c}});var t=r(7437),n=r(2265),d=r(7557),l=r(5475),o=r(7648);let i=(0,d.eI)("https://xrqbldnqjmyjnurlwvlt.supabase.co","sb_publishable_QEAQo0wNojYKriWfnyvfbQ_r8Cc1s37");function c(e){let{params:s}=e,{id:r}=s,d=(0,l.useRouter)(),[c,a]=(0,n.useState)(null),[u,h]=(0,n.useState)(!0),[m,x]=(0,n.useState)(null);(0,n.useEffect)(()=>{r&&(async()=>{h(!0);let{data:e,error:s}=await i.from("customer_orders").select("*").eq("id",r).single();s?(x("Failed to fetch order"),console.error(s)):a(e),h(!1)})()},[r]);let f=async()=>{if(window.confirm("Are you sure you want to delete this order?")){let{error:e}=await i.from("customer_orders").delete().eq("id",r);e?alert("Error deleting order"):(alert("Order deleted"),d.push("/admin/orders"))}};return u?(0,t.jsx)("div",{className:"p-4",children:"Loading..."}):m?(0,t.jsx)("div",{className:"p-4",children:m}):c?(0,t.jsxs)("div",{className:"container mx-auto p-4",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:["Order #",c.work_order_number]}),(0,t.jsxs)("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Customer:"})," ",c.customer_name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",c.email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Phone:"})," ",c.phone_1]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Address:"})," ",c.address,", ",c.city,", ",c.state," ",c.zip_code]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Status:"})," ",c.status]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Quote:"})," $",c.quote]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Scheduled:"})," ",c.scheduled_start_time?new Date(c.scheduled_start_time).toLocaleString():"No"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,t.jsx)("button",{onClick:f,className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Delete Order"}),(0,t.jsx)(o.default,{href:"/admin/orders",className:"text-blue-500 hover:text-blue-800",children:"Back to Orders"})]})]})]}):(0,t.jsx)("div",{className:"p-4",children:"Order not found."})}},7648:function(e,s,r){"use strict";r.d(s,{default:function(){return n.a}});var t=r(2972),n=r.n(t)}},function(e){e.O(0,[557,972,971,117,744],function(){return e(e.s=4046)}),_N_E=e.O()}]);